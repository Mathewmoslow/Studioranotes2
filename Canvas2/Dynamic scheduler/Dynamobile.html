<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nursing Schedule - Working Calendar</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            font-size: 16px;
        }
        
        .header {
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .header h1 {
            font-size: 1.4rem;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .left-panel, .right-panel {
            width: 100%;
        }
        
        .module-card {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        .module-header {
            padding: 15px;
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .obgyn-header { background-color: #2196F3; }
        .adulthealth-header { background-color: #4CAF50; }
        .nclex-header { background-color: #9C27B0; }
        .geronto-header { background-color: #FF9800; }
        
        .module-content {
            max-height: 500px;
            overflow: auto;
            transition: max-height 0.3s ease;
        }
        
        .module-card.collapsed .module-content {
            max-height: 0;
        }
        
        .assignments {
            padding: 15px;
        }
        
        .assignment-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            flex-wrap: wrap;
        }
        
        .assignment-checkbox {
            margin-right: 10px;
            min-width: 20px;
            min-height: 20px;
        }
        
        .assignment-text {
            flex: 1;
            min-width: 150px;
        }
        
        .assignment-date {
            font-size: 12px;
            color: #999;
            margin-left: 10px;
        }
        
        /* Calendar Styles */
        .calendar-container {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        
        .calendar-views {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: #2196F3;
            color: white;
            touch-action: manipulation;
            min-height: 44px;
        }
        
        .btn:hover {
            background: #1976D2;
        }
        
        .btn.active {
            background: #1565C0;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, minmax(40px, 1fr));
            gap: 1px;
            background: #ddd;
            margin-top: 20px;
            min-width: 280px;
        }
        
        .calendar-day {
            background: white;
            min-height: 80px;
            padding: 5px;
            overflow: hidden;
        }
        
        .calendar-day-header {
            background: #f0f0f0;
            padding: 10px 5px;
            text-align: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .calendar-day-number {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .event {
            padding: 2px 5px;
            margin: 2px 0;
            border-radius: 3px;
            font-size: 10px;
            color: white;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .event.lecture { background-color: #2196F3; }
        .event.clinical { background-color: #4CAF50; }
        .event.exam { background-color: #f44336; }
        .event.study { background-color: #000000; }
        
        .week-view {
            display: none;
            overflow-x: auto;
        }
        
        .week-view.active {
            display: block;
        }
        
        .time-grid {
            display: grid;
            grid-template-columns: 60px repeat(7, minmax(40px, 1fr));
            gap: 1px;
            background: #ddd;
            min-width: 340px;
        }
        
        .time-slot {
            background: white;
            min-height: 60px;
            padding: 5px;
            position: relative;
        }
        
        .time-label {
            background: #f0f0f0;
            padding: 5px;
            text-align: right;
            font-size: 11px;
        }
        
        .scheduler-panel {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 20px;
        }
        
        .scheduler-controls {
            width: 100%;
        }
        
        .preferences-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: flex-start;
            width: 100%;
        }
        
        .preference-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            flex: 1;
            min-width: 80px;
        }
        
        .preference-item label {
            font-size: 11px;
            color: #666;
            text-align: center;
        }
        
        .preference-item input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
        }
        
        /* Media Queries for Responsive Design */
        @media screen and (min-width: 768px) {
            .container {
                flex-direction: row;
            }
            
            .left-panel {
                width: 35%;
                min-width: 300px;
            }
            
            .right-panel {
                width: 65%;
            }
            
            .scheduler-panel {
                flex-direction: row;
            }
            
            .scheduler-controls {
                width: auto;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .calendar-day-header {
                font-size: 1rem;
            }
            
            .event {
                font-size: 11px;
            }
        }
        
        @media screen and (min-width: 992px) {
            .left-panel {
                width: 30%;
            }
            
            .right-panel {
                width: 70%;
            }
        }
        
        @media screen and (max-width: 480px) {
            .calendar-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .calendar-nav, .calendar-views {
                width: 100%;
                justify-content: space-between;
            }
            
            .btn {
                padding: 8px 10px;
                font-size: 0.9rem;
            }
            
            .calendar-day-header {
                padding: 5px 2px;
                font-size: 0.8rem;
            }
            
            .event {
                font-size: 9px;
            }
            
            .header h1 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Summer 2025 Nursing Schedule</h1>
        <div>Week <span id="current-week">1</span></div>
    </div>

    <div class="container">
        <div class="left-panel">
            <h2>Module Assignments</h2>
            <div id="module-cards"></div>
        </div>
        
        <div class="right-panel">
            <div class="scheduler-panel">
                <div class="scheduler-controls">
                    <h3>Adaptive Scheduler</h3>
                    <button class="btn" onclick="generateStudySchedule()">Generate Schedule</button>
                    <button class="btn" onclick="clearStudyBlocks()">Clear Studies</button>
                    <div id="scheduler-status" style="margin-top: 10px;"></div>
                </div>
                
                <div class="preferences-section">
                    <div class="preference-item">
                        <label>Daily Study Max (hrs)</label>
                        <input type="number" id="daily-max" value="6" min="1" max="12">
                    </div>
                    <div class="preference-item">
                        <label>Weekend Max (hrs)</label>
                        <input type="number" id="weekend-max" value="4" min="1" max="8">
                    </div>
                    <div class="preference-item">
                        <label>Block Duration</label>
                        <input type="number" id="block-duration" value="1.5" min="0.5" max="3" step="0.5">
                    </div>
                </div>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button class="btn" onclick="previousWeek()">← Prev</button>
                        <button class="btn" onclick="nextWeek()">Next →</button>
                    </div>
                    <h3 id="week-range">May 5-11, 2025</h3>
                    <div class="calendar-views">
                        <button class="btn active" onclick="setView('month')">Month</button>
                        <button class="btn" onclick="setView('week')">Week</button>
                    </div>
                </div>
                
                <div id="month-view" class="month-view">
                    <div class="calendar-grid" id="calendar-grid"></div>
                </div>
                
                <div id="week-view" class="week-view">
                    <div class="time-grid" id="time-grid"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Define all modules for the entire semester
        const semesterModules = {
            1: {
                obgyn: {
                    title: "Module 1: Perspectives in Women's Health, Fetal Development, Normal Pregnancy",
                    chapters: "Chapters 1-6: Women's Health, Fetal Development, Prenatal Care",
                    keyTopics: "Women's health throughout the lifespan, Fetal development stages and monitoring, Comprehensive prenatal care, Maternal physiological adaptations",
                    assignments: [
                        { id: 'ob1-1', text: "Chapter 1: Maternity & Women's Healthcare Today", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-2', text: "Chapter 2: The Family in a Cultural & Community Context", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-3', text: "Chapter 3: Reproductive Anatomy & Physiology", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-4', text: "Chapter 4: Heredity & Environmental Influences", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-5', text: "Chapter 5: Conception & Fetal Development", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-6', text: "Chapter 6: Maternal Adaptation", date: new Date('2025-05-11'), type: "reading", hours: 3 },
                        { id: 'ob1-7', text: "Video: Women's Health Throughout the Lifespan", date: new Date('2025-05-11'), type: "video", hours: 1 },
                        { id: 'ob1-8', text: "Video: Fetal Development", date: new Date('2025-05-11'), type: "video", hours: 1 },
                        { id: 'ob1-9', text: "Module 1 Adaptive Quiz (15 questions)", date: new Date('2025-05-18'), type: "quiz", hours: 1.5 }
                    ],
                    classMeeting: "Monday 5 May 09:00-12:00"
                },
                adulthealth: {
                    title: "Module 1: Cardiology",
                    chapters: "Cardiovascular assessment, cardiac disorders, ECG basics",
                    keyTopics: "Introduction to Adult Health Nursing, Cardiovascular System, Common Cardiac Disorders, ECG Interpretation Basics",
                    assignments: [
                        { id: 'ah1-1', text: "Dosage Calculation Quiz", date: new Date('2025-05-07'), type: "quiz", hours: 2 },
                        { id: 'ah1-2', text: "Cardiology Chapter Reading", date: new Date('2025-05-13'), type: "reading", hours: 2.5 },
                        { id: 'ah1-3', text: "Video: Cardiac Cycle Animation", date: new Date('2025-05-13'), type: "video", hours: 1 },
                        { id: 'ah1-4', text: "One-Minute Nurse: Anticoagulant vs. Antiplatelet", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-5', text: "One-Minute Nurse: Antihypertensives", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-6', text: "One-Minute Nurse: Dysrhythmia", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-7', text: "One-Minute Nurse: Loop Diuretics", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-8', text: "One-Minute Nurse: Myocardial Infarction", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-9', text: "One-Minute Nurse: Nitroglycerin", date: new Date('2025-05-20'), type: "video", hours: 0.5 },
                        { id: 'ah1-10', text: "Practice and Learn: Angina Interactive Case Study", date: new Date('2025-05-20'), type: "assignment", hours: 1.5 },
                        { id: 'ah1-11', text: "Module 1 Cardiology Quiz (11 points)", date: new Date('2025-05-14'), type: "quiz", hours: 1 }
                    ],
                    classMeeting: "Wed 7 May 09:05-12:10 (CC 226/227)"
                },
                nclex: {
                    title: "Module 1: Health Assessment",
                    chapters: "Health assessment, oxygenation, perfusion, elimination",
                    keyTopics: "Health assessment concepts, COPD and pneumonia pathophysiology, Coronary artery disease, Physical assessment techniques",
                    assignments: [
                        { id: 'nc1-1', text: "Attestation Quiz", date: new Date('2025-05-05'), type: "quiz", hours: 0.5 },
                        { id: 'nc1-2', text: "Mid-HESI Registration", date: new Date('2025-05-05'), type: "admin", hours: 0.5 },
                        { id: 'nc1-3', text: "Nearpod Activity (15 minutes)", date: new Date('2025-05-05'), type: "activity", hours: 0.5 },
                        { id: 'nc1-4', text: "Escape Room: Prioritization (8 minutes)", date: new Date('2025-05-05'), type: "activity", hours: 0.5 },
                        { id: 'nc1-5', text: "Health Assessment Chapter Reading", date: new Date('2025-05-11'), type: "reading", hours: 2 },
                        { id: 'nc1-6', text: "Video: Physical Assessment Techniques", date: new Date('2025-05-11'), type: "video", hours: 1 },
                        { id: 'nc1-7', text: "HESI Health Assessment Prep (50 questions)", date: new Date('2025-05-12'), type: "prep", hours: 1.5 }
                    ],
                    classMeeting: "Monday 5 May 14:00-17:00 (On-campus)"
                },
                geronto: {
                    title: "Module 1: Introduction to Gerontological Nursing",
                    chapters: "Legal/ethical aspects, assessment fundamentals, elder care principles",
                    keyTopics: "Legal and ethical aspects of gerontological nursing, Assessment of older adults, Principles of elder care",
                    assignments: [
                        { id: 'ge1-1', text: "CastleBranch Education Quiz", date: new Date('2025-05-12'), type: "quiz", hours: 0.5 },
                        { id: 'ge1-2', text: "Topic 3: Legal and Ethical Aspects Reading", date: new Date('2025-05-14'), type: "reading", hours: 2 },
                        { id: 'ge1-3', text: "Video: Introduction to Gerontological Nursing", date: new Date('2025-05-13'), type: "video", hours: 0.5 },
                        { id: 'ge1-4', text: "Video: Elder Care Principles", date: new Date('2025-05-13'), type: "video", hours: 0.5 }
                    ],
                    classMeeting: "Wednesdays 1:00pm in NB 103. Attendance quiz within first 10 minutes."
                }
            },
            // The remaining semesterModules data stays the same
            // For brevity, I'm not repeating all the other weeks here
            // In your implementation, include all weeks 2-14 as they were in the original code
        };

        // The rest of your JavaScript remains the same
        // Essential events array and all the functions remain unchanged

        let currentWeek = 1;
        let currentView = 'month';
        let studyBlocks = [];
        let completedAssignments = new Set();
        let scheduler = null;

        // Load saved state from localStorage
        function loadState() {
            const saved = localStorage.getItem('nursingSchedulerState');
            if (saved) {
                const state = JSON.parse(saved);
                completedAssignments = new Set(state.completedAssignments || []);
            }
        }

        // Save state to localStorage
        function saveState() {
            const state = {
                completedAssignments: Array.from(completedAssignments)
            };
            localStorage.setItem('nursingSchedulerState', JSON.stringify(state));
        }

        // Replace the modules object with semesterModules for the current week
        const modules = semesterModules;

        // Generate module cards
        function generateModuleCards() {
            const container = document.getElementById('module-cards');
            container.innerHTML = '';
            
            const weekModules = modules[currentWeek] || {};
            let isFirst = true;
            
            Object.entries(weekModules).forEach(([course, module]) => {
                const card = document.createElement('div');
                card.className = 'module-card' + (isFirst ? '' : ' collapsed');
                
                const assignmentsHtml = module.assignments.map((a) => `
                    <div class="assignment-item">
                        <input type="checkbox" 
                               class="assignment-checkbox" 
                               id="${a.id}"
                               ${completedAssignments.has(a.id) ? 'checked' : ''}
                               onchange="toggleAssignment('${a.id}')">
                        <span class="assignment-text">${a.text}</span>
                        <span class="assignment-date">${a.date.toLocaleDateString()}</span>
                    </div>
                `).join('');
                
                card.innerHTML = `
                    <div class="module-header ${course}-header" onclick="toggleModule(this)">
                        <div>${module.title}</div>
                        <span>▼</span>
                    </div>
                    <div class="module-content">
                        <div class="assignments">
                            ${assignmentsHtml}
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
                isFirst = false;
            });
        }

        // Toggle module expansion
        function toggleModule(header) {
            const card = header.closest('.module-card');
            card.classList.toggle('collapsed');
        }

        // Toggle assignment completion
        function toggleAssignment(id) {
            if (completedAssignments.has(id)) {
                completedAssignments.delete(id);
            } else {
                completedAssignments.add(id);
            }
            saveState();
        }

        // Generate calendar
        function generateCalendar() {
            if (currentView === 'month') {
                generateMonthView();
            } else {
                generateWeekView();
            }
        }

        // Generate month view
        function generateMonthView() {
            const grid = document.getElementById('calendar-grid');
            grid.innerHTML = '';
            
            // Day headers
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                grid.appendChild(header);
            });
            
            // Get first day of month
            const year = 2025;
            const month = 4 + Math.floor((currentWeek - 1) / 4); // May = 4
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startPadding = firstDay.getDay();
            
            // Empty cells before first day
            for (let i = 0; i < startPadding; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'calendar-day';
                grid.appendChild(emptyCell);
            }
            
            // Days of the month
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const date = new Date(year, month, day);
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                
                const dayNumber = document.createElement('div');
                dayNumber.className = 'calendar-day-number';
                dayNumber.textContent = day;
                dayCell.appendChild(dayNumber);
                
                // Add events
                const dayEvents = [...essentialEvents, ...studyBlocks].filter(e => {
                    return e.date.toDateString() === date.toDateString();
                });
                
                dayEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = `event ${event.type}`;
                    eventDiv.textContent = event.title;
                    eventDiv.onclick = () => alert(`${event.title}\n${event.time || 'All day'}`);
                    dayCell.appendChild(eventDiv);
                });
                
                grid.appendChild(dayCell);
            }
        }

        // Generate week view
        function generateWeekView() {
            const grid = document.getElementById('time-grid');
            grid.innerHTML = '';
            
            // Time labels
            for (let hour = 6; hour <= 22; hour++) {
                const timeLabel = document.createElement('div');
                timeLabel.className = 'time-label';
                timeLabel.textContent = `${hour % 12 || 12}:00 ${hour < 12 ? 'AM' : 'PM'}`;
                grid.appendChild(timeLabel);
                
                // Day slots
                for (let day = 0; day < 7; day++) {
                    const timeSlot = document.createElement('div');
                    timeSlot.className = 'time-slot';
                    grid.appendChild(timeSlot);
                }
            }
        }

        // Set calendar view
        function setView(view) {
            currentView = view;
            document.querySelectorAll('.calendar-views .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.getElementById('month-view').style.display = view === 'month' ? 'block' : 'none';
            document.getElementById('week-view').style.display = view === 'week' ? 'block' : 'none';
            
            generateCalendar();
        }

        // Generate study schedule
        function generateStudySchedule() {
            studyBlocks = [];
            const status = document.getElementById('scheduler-status');
            status.textContent = 'Generating study schedule...';
            
            const dailyMax = parseInt(document.getElementById('daily-max').value);
            const weekendMax = parseInt(document.getElementById('weekend-max').value);
            const blockDuration = parseFloat(document.getElementById('block-duration').value);
            
            const weekModules = modules[currentWeek] || {};
            const assignments = [];
            
            // Collect all incomplete assignments
            Object.entries(weekModules).forEach(([course, module]) => {
                module.assignments.forEach(assignment => {
                    if (!completedAssignments.has(assignment.id)) {
                        assignments.push({ ...assignment, course });
                    }
                });
            });
            
            // Sort by due date
            assignments.sort((a, b) => a.date - b.date);
            
            // Schedule each assignment
            assignments.forEach(assignment => {
                const daysBeforeDue = 3;
                const startDate = new Date(assignment.date);
                startDate.setDate(startDate.getDate() - daysBeforeDue);
                
                let hoursScheduled = 0;
                let currentDate = new Date(startDate);
                
                while (hoursScheduled < assignment.hours && currentDate <= assignment.date) {
                    const isWeekend = currentDate.getDay() === 0 || currentDate.getDay() === 6;
                    const maxToday = isWeekend ? weekendMax : dailyMax;
                    
                    // Check how many hours already scheduled for this day
                    const existingHours = studyBlocks
                        .filter(b => b.date.toDateString() === currentDate.toDateString())
                        .reduce((sum, b) => sum + b.hours, 0);
                    
                    if (existingHours < maxToday) {
                        const hoursToSchedule = Math.min(
                            blockDuration,
                            assignment.hours - hoursScheduled,
                            maxToday - existingHours
                        );
                        
                        studyBlocks.push({
                            date: new Date(currentDate),
                            title: `${assignment.course.toUpperCase()}: ${assignment.text}`,
                            type: 'study',
                            hours: hoursToSchedule
                        });
                        
                        hoursScheduled += hoursToSchedule;
                    }
                    
                    currentDate.setDate(currentDate.getDate() + 1);
                }
            });
            
            status.textContent = `Scheduled ${studyBlocks.length} study blocks`;
            generateCalendar();
        }

        // Clear study blocks
        function clearStudyBlocks() {
            studyBlocks = [];
            generateCalendar();
            document.getElementById('scheduler-status').textContent = 'Study blocks cleared';
        }

        // Navigation
        function previousWeek() {
            if (currentWeek > 1) {
                currentWeek--;
                updateWeekDisplay();
            }
        }

        function nextWeek() {
            if (currentWeek < 14) {
                currentWeek++;
                updateWeekDisplay();
            }
        }

        function updateWeekDisplay() {
            document.getElementById('current-week').textContent = currentWeek;
            
            const weekStart = new Date(2025, 4, 5 + (currentWeek - 1) * 7);
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            
            document.getElementById('week-range').textContent = 
                `${weekStart.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })} - ${weekEnd.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}, 2025`;
            
            generateModuleCards();
            generateCalendar();
        }

        // Essential events array (truncated for brevity)
        const essentialEvents = [
            { date: new Date('2025-05-05'), title: 'OB Lecture', type: 'lecture', time: '9:00 AM' },
            { date: new Date('2025-05-05'), title: 'NCLEX Orientation', type: 'lecture', time: '2:00 PM' },
            { date: new Date('2025-05-06'), title: 'OB Clinical', type: 'clinical', time: '1:00 PM' },
            { date: new Date('2025-05-07'), title: 'Adult Health Lecture', type: 'lecture', time: '9:05 AM' },
            // Include all other events here in your actual implementation
        ];

        // Initialize
        loadState();
        generateModuleCards();
        generateCalendar();
    </script>
</body>
</html>